{
    "homepage": "https://github.com/LokerL/tts-vue",
    "version": "1.9.3",
    "description": "ðŸŽ¤ Microsoft speech synthesis tool, built using Electron + Vue + ElementPlus + Vite.\nðŸŽ¤ å¾®è½¯è¯­éŸ³åˆæˆå·¥å…·ï¼Œä½¿ç”¨ Electron + Vue + ElementPlus + Vite æž„å»ºã€‚",
    "license": {
        "identifier": "Freeware"
    },
    "architecture": {
        "64bit": {
            "url": "https://github.com/LokerL/tts-vue/releases/download/1.9.3/tts-vue-1.9.3-windows.zip",
            "hash": "945efb2107eede2aed2b484ae56bfe77ae9741f7ce8cb53cb695e5376f526ce0"
        }
    },
    "post_install": [
        "$CmdString = \"$dir\\$version\\tts-vue_$version.exe /S /D=$dir\\$version\"",
        "Invoke-Expression $CmdString",
        "echo \"Persisting config.json\"",
        "$data_dir=\"$env:APPData\\tts-vue\"",
        "$data_path=\"$data_dir\\config.json\"",
        "$persist_path=\"$persist_dir\\config.json\"",
        "if (!(Test-Path $data_dir)){",
        "   mkdir $data_dir > $null",
        "}",
        "if (!(Test-Path $persist_dir)){",
        "   mkdir $persist_dir > $null",
        "   if(Test-Path $data_path){",
        "       $isLink=(Get-Item $data_path).Attributes -match \"ReparsePoint\"",
        "       if($isLink){",
        "           Remove-Item -Force -Recurse $data_path",
        "       }else{",
        "           Move-Item $data_path $persist_dir",
        "       }",
        "   }else{",
        "       mkdir $persist_path > $null",
        "   }",
        "}",
        "sudo New-Item -ItemType SymbolicLink \"$data_path\" -Target $persist_path"
    ],
    "pre_uninstall":[
        "sudo taskKill /f /im tts-vue.exe",
        "Start-Sleep -Seconds 3"
    ],
    "post_uninstall":[
        "$shortcut_link_path = \"$env:APPData\\Microsoft\\Windows\\Start Menu\\Programs\\tts-vue.lnk\"",
        "echo \"Removing shortcut > $shortcut_link_path\"",
        "Remove-Item -Force \"$shortcut_link_path\"",
        "$data_path=\"$env:APPData\\tts-vue\"",
        "if (Test-Path $data_path){",
        "   Remove-Item -Force -Recurse $data_path",
        "   echo \"Removing $data_path\"",
        "}"
    ],
    "checkver": "github",
    "autoupdate": {
        "note": "Thanks for using autoupdate, please test your updates!",
        "url": "https://github.com/LokerL/tts-vue/releases/download/$version/tts-vue-$version-windows.zip"
    }
}
